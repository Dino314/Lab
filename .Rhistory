gregexpr("(\\d+)",text)$1
substr(text, gregexpr("(\\d+)",text)[[1]][1], 3)
substr(text, gregexpr("(\\d+)",text)[[1]][1], 2)
substr(text, gregexpr("(\\d+)",text)[[1]][1], 20)
substr(text, gregexpr("(\\d+)",text)[[1]][1], 20)
substr(text, gregexpr("(\\d+)",text)[[1]][1], 20)
i<-1
substr(text, gregexpr("(\\d+)",text)[[1]][1], 20)
?str()
i<-1
while(i<length(text)){
substr(text, gregexpr("(\\d+)",text)[[1]][1], 20)
i<-i+1
}
while(i<length(text)){
substr(text, gregexpr("(\\d+)",text)[[1]][1], 20)
i<-i+1
}
i<-1
while(i<length(text)){
substr(text, gregexpr("(\\d+)",text)[[1]][i], 20)
i<-i+1
}
length(text)
text
nchar(text)
i<-1
while(i<nchar(text)){
substr(text, gregexpr("(\\d+)",text)[[1]][i], 20)
i<-i+1
}
while(i<nchar(text)){
substr(text, gregexpr("(\\d+)",text)[[1]][i], 20)
i<-i+1
}
substr(text, gregexpr("(\\d+)",text)[[1]][i], 20)
nchar(text)
i<-1
i
string <- c("(1,2)", "( -2, 7)", "(    -3   ,     45)", "(a, 3)")
pattern<-"\\(\\s*([+-]?(0|[1-9][0-9]*))\\s*,\\s*([+-]?(0|[1-9][0-9]*))\\s*\\)"
lidx <- !grepl(pattern, string)
komp1 <- sub(pattern, "\\1", string)
komp1[lidx] <- NA
komp2 <- sub(pattern, "\\3", string)
komp2[lidx] <- NA
as.integer(komp1)
grepl(pattern, string)
lidx <- !grepl(pattern, string)
lidx
string<-text
pattern<-"(\\d+)"
lidx <- !grepl(pattern, string)
komp1 <- sub(pattern, "\\1", string)
komp1[lidx] <- NA
komp2 <- sub(pattern, "\\3", string)
komp2[lidx] <- NA
as.integer(komp1)
string<-text
pattern<-"D*(d*)*D"
lidx <- !grepl(pattern, string)
komp1 <- sub(pattern, "\\1", string)
komp1[lidx] <- NA
as.integer(komp1)
grep(pattern, string)
text
pattern<-"D*(d*)D"
grep(pattern, string)
pattern<-"D*d*D"
grep(pattern, string)
pattern<-"D*d*D*"
grep(pattern, string)
lidx <- !grepl(pattern, string)
komp1 <- sub(pattern, "\\1", string)
komp1[lidx] <- NA
as.integer(komp1)
pattern<-"(D*d*D*)?"
grep(pattern, string)
grep(pattern, string)
grepexp(pattern, string)
gregexpr(pattern, string)
pattern<-"(^D*d*D*$)?"
gregexpr(pattern, string)
pattern<-"(^D*(d*)D*$)?"
gregexpr(pattern, string)
text
text
pattern<-"(\\D+([0-9]+)\\D+([0-9]+)\\D+"
sub(pattern, "\\2", text)
sub(pattern, "\\3", text)
pattern<-"(\\D+([0-9]+)\\D+([0-9]+)\\D+)"
sub(pattern, "\\2", text)
sub(pattern, "\\3", text)
sub(pattern, "\\3", text)
sub(pattern, "\\2", text)
sub(pattern, "\\3", text)
pattern<-"(\\D+(d+)\\D+(d+)\\D+)"
sub(pattern, "\\2", text)
sub(pattern, "\\3", text)
pattern<-"(\\D+(\\d+)\\D+(\\d+)\\D+)"
sub(pattern, "\\2", text)
sub(pattern, "\\3", text)
sub(pattern, "\\2", text)
sub(pattern, "\\2", text)
pattern<-"(\\D*([0-9]+)\\D+([0-9]+)\\D*)" #[0-9] lahko nadomsetimo z \\d
sub(pattern, "\\2", text)#nekak extractor texta??
sub(pattern, "\\3", text)
text
pattern<-"(\\D*([0-9]+)\\D+([0-9]+)\\D*)" #[0-9] lahko nadomsetimo z \\d
sub(pattern, "\\2", text)#nekak extractor texta??
sub(pattern, "\\3", text)
attributes(gregexpr("(\\d+)",text)[[1]])[[1]][1]# vrne vn 3 pa 2
attributes(gregexpr("(\\d+)",text)[[1]])[[1]][2]# vrne vn 3 pa 2
getOption("repos")
devtools::install_github("rstudio/markdown")
devtools::install_url("http://cran.r-project.org/src/contrib/rmarkdown0.5.1.tar.gz")
getOption("repos")
options(repos = c(CRAN = "https://cran.revolutionanalytics.com"))
---
title: "Untitled"
output: html_document
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
## R Markdown
This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.
When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:
```{r cars}
summary(cars)
```
## Including Plots
You can also embed plots, for example:
```{r pressure, echo=FALSE}
plot(pressure)
```
Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
`````````````````````````````````````````````````````````````````
knitr::opts_chunk$set(echo = TRUE)
summary(cars)
plot(pressure)
plot(x, y)
ggplot2::qplot(x,y)
cars
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
library(knitr)
library(ggplot2)
library(dplyr)
smaller <- diamonds %>%
filter(carat <= 2.5)
head(diamonds, 20)
head(diamonds%>%arrange(carat), 20)
head(diamonds%>%arrange(carat, desc), 20)
head(diamonds%>%arrange(carat, descending=TRUE), 20)
head(diamonds%>%arrange(carat, descending), 20)
head(diamonds%>%arrange(desc()), 20)
head(diamonds%>%arrange(desc(carat)), 20)
head(diamonds%>%arrange(desc(carat))[,2], 20)
head(diamonds%>%arrange(desc(carat))[2,], 20)
head(diamonds%>%arrange(desc(carat)), 20)
head(diamonds%>%arrange(desc(carat))[1:7], 20)
head(diamonds%>%arrange(desc(carat)), 20)[1:7]
head(diamonds%>%arrange(desc(carat)), 20)[1:9]
head(diamonds%>%arrange(desc(carat)), 20)[1:7]
round((126/53940)*100, 2)
Sys.which("Latex")
install.packages("latex")
#include se pokaze ce je true
knitr::opts_chunk$set(echo = TRUE, error=TRUE)
library(dplyr)
getwd()
include_graphics("iris.jpg")
library(knitr)
include_graphics("iris.jpg")
include_graphics("iris.jpg")include_graphics("iris.jpg")
mtcars>%>head()
mtcars%>%head()
```{r, out.width="5%", out.height="5%", fig.align='right'}
library(knitr)
library(tidyverse)
include_graphics("iris.jpg")
<div class="columns-2">
```{r tabela}
mtcars%>%head()
knitr::kable(mtcars[1:5, ], caption = 'Cars')
knitr::kable(mtcars[1:5, ], caption = 'Cars2')
```
</div>
knitr::kable(cars[1:5, ], caption = 'Cars2')
teza<-mean(mtcars[mrcars$cyl==8,"wt"])
round(teza,2)
teza<-mean(mtcars[mtcars$cyl==8,"wt"])
round(teza,2)
airquality%>%head()
airquality%>%head()
geom_boxplot(airquality, aes(Month, Ozone))
geom_boxplot(airquality, aes(x=Month, y=Ozone))
ggplot(airquality, aes(x=Month, y=Ozone))+geom_boxplot()
ggplot(airquality, aes(x=Month, y=Ozone))
ggplot(airquality, aes(x=airquality$Month, y=airquality$Ozone))+geom_boxplot()
ggplot(airquality, aes(x=airquality$Month, y=airquality$Ozone))+geom_point()
ggplot(airquality, aes(x=factor(Month), y=Ozone))+geom_boxplot(outlier.colour = "blue")+geom_point()+geom_line()
airquality%>%head()
ggplot(airquality, aes(x=factor(Month), y=Ozone))+geom_line()
ggplot(airquality, aes(x=factor(Month), y=Ozone))+geom_abline()
ggplot(airquality, aes(x=factor(Month), y=Ozone))+geom_curve()
ggplot(airquality, aes(x=factor(Month), y=Ozone))+geom_dotplot()
ggplot(airquality, aes(x=factor(Month), y=mean(Ozone)))+geom_dotplot()
ggplot(airquality, aes(x=Month, y=mean(Ozone)))+geom_line()
ggplot(airquality, aes(x=Month, y=(Ozone)))+geom_line()
ggplot(airquality, aes(x=factor(Month), y=mean(Ozone)))+geom_line()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(., aes(x=factor(Month), y=mean(Ozone)))+geom_line()
airquality%>%group_by(Month)%>%summarise(Mean=mean(airquality$Ozone, na.rm = TRUE))%>%ggplot(., aes(x=factor(Month), y=mean(Ozone)))+geom_line()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(., aes(x=factor(Month), y=Mean))+geom_line()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(., aes(x=factor(Month), y=Mean))+geom_point()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%head()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(., aes(x=factor(Month), y=Mean))+geom_line()
#factor pomeni da ni zvezna, pokaz eza sak mesec v tem primeru
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(., aes(x=factor(Month), y=Mean))+geom_line()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(., aes(x=factor(Month), y=Mean))+geom_point()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(., aes(x=factor(Month), y=Mean))+geom_path()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(., aes(x=factor(Month), y=Mean))+geom_path()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=factor(Month), y=Mean))+geom_path()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=factor(Month), y=Mean))+geom_point()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=factor(Month), y=Mean))+geom_step()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=factor(Month), y=Mean))+geom_step()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=factor(Month), y=Mean))+geom_boxplot()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_boxplot()
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_line()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_line()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_step()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_line()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_step()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_understep()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_raster()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_bar()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_curve()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_smooth()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_path()
#povprečje ozona ampak da se bodo vidle razlike:
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_smooth()
#barchart
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_barchart()
#barchart
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_bar()
#barchart
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_bar()
#barchart
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Ozone))+geom_bar()
#barchart
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_bar()
#barchart
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_bar(aes(Ozone = displ))
#barchart
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_bar(stat= identity)
#barchart
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_bar(stat = "identity")
airquality%>%group_by(Month)%>%summarise(Mean=mean(Ozone, na.rm = TRUE))%>%ggplot(aes(x=Month, y=Mean))+geom_bar(stat = "identity")
knitr::opts_chunk$set(echo = TRUE, error = TRUE, message = FALSE, warning = FALSE)
#library(tidyverse)
chicago <- readxl::read_excel("C:\\Users\\famnit\\Dropbox\\RIN3\\Chicago.xlsx")
#head(chicago, 7)
chicago%>%select(Date, 'Primary Type', Description, 'Location Description', 'Arrest and Domestic')%>%mutate(Type='Primary Type', Location='Location Description')
#library(tidyverse)
library(dplyr)
#chicago <- readxl::read_excel("C:\\Users\\famnit\\Dropbox\\RIN3\\Chicago.xlsx")
#head(chicago, 7)
chicago%>%select(Date, 'Primary Type', Description, 'Location Description', 'Arrest and Domestic')%>%mutate(Type='Primary Type', Location='Location Description')%>%top_n
library(dplyr)
library(dplyr)
#library(tidyverse)
#library(dplyr)
chicago <- readxl::read_excel("C:\\Users\\famnit\\Dropbox\\RIN3\\Chicago.xlsx")
chicago%>%select(Date, 'Primary Type', Description, 'Location Description', 'Arrest and Domestic')%>%mutate(Type='Primary Type', Location='Location Description')%>%top_n(4)
chicago <- readxl::read_excel("C:\\Users\\famnit\\Dropbox\\RIN3\\Chicago.xlsx")
chicago%>%select(Date, `Primary Type`, Description, `Location Description`, `Arrest and Domestic`)%>%mutate(Type='Primary Type', Location='Location Description')%>%top_n(4)
chicago <- readxl::read_excel("C:\\Users\\famnit\\Dropbox\\RIN3\\Chicago.xlsx")
chicago%>%top_n(4)%>%select(Date, `Primary Type`, Description, `Location Description`, `Arrest and Domestic`)%>%mutate(Type='Primary Type', Location='Location Description')
chicago<-chicago%>%top_n(4)
chicago%>%select(Date, `Primary Type`, Description, `Location Description`, `Arrest and Domestic`)%>%mutate(Type='Primary Type', Location='Location Description')
chicago <- readxl::read_excel("C:\\Users\\famnit\\Dropbox\\RIN3\\Chicago.xlsx")
chicago<-chicago%>%top_n(4)
chicago%>%select(Date, `Primary Type`, Description, `Location Description`, Arrest, Domestic)%>%mutate(Type='Primary Type', Location='Location Description')
head(chicago)
chicago%>%select(Date, `Primary Type`, Description, `Location Description`, Arrest, Domestic)%>%mutate(Type='Primary Type', Location='Location Description')
chicago%>%select(Date, `Primary Type`, Description, `Location Description`, Arrest, Domestic)%>%mutate(Type='Primary Type', Location='Location Description')%>%top_n(4)
#library(tidyverse)
#library(dplyr)
#chicago <- readxl::read_excel("C:\\Users\\famnit\\Dropbox\\RIN3\\Chicago.xlsx")
head(chicago)
head(chicago)
chicago%>%select(Date, `Primary Type`, Description, `Location Description`, Arrest, Domestic)%>%mutate(Type2='Primary Type', Location2='Location Description')%>%top_n(4)
head(chicago)
chicago%>%select(Date, Description, Arrest, Domestic)%>%mutate(Type2='Primary Type', Location2='Location Description')%>%top_n(4)
chicago%>%mutate(Type2='Primary Type', Location2='Location Description')%>%select(Date, Type2, Description, Location2, Arrest, Domestic)%>%top_n(4)
#library(tidyverse)
#library(dplyr)
#chicago <- readxl::read_excel("C:\\Users\\famnit\\Dropbox\\RIN3\\Chicago.xlsx")
head(chicago)
chicago%>%mutate(Type='Primary Type', Location='Location Description')%>%select(Date, Type2, Description, Location2, Arrest, Domestic)%>%top_n(4)
chicago%>%mutate(Type='Primary Type', Location='Location Description')%>%select(Date, Type2, Description, Location2, Arrest, Domestic)%>%top_n(4)
chicago%>%mutate(Type='Primary Type', Location='Location Description')%>%select(Date, Type2, Description, Location2, Arrest, Domestic)%>%top_n(4)
chicago%>%mutate(Type='Primary Type', Location='Location Description')%>%select(Date, Type, Description, Location, Arrest, Domestic)%>%top_n(4)
chicago%>%mutate(Type='Primary Type', Location='Location Description')%>%select(Date, Type, Description, Location, Arrest, Domestic)%>%top_n(4)
chicago%>%names(Type='Primary Type', Location='Location Description')%>%select(Date, Type, Description, Location, Arrest, Domestic)%>%top_n(4)
chicago%>%colnames(Type='Primary Type', Location='Location Description')%>%select(Date, Type, Description, Location, Arrest, Domestic)%>%top_n(4)
chicago%>%select(Date, `Primary Type`, Description, `Location Description`, Arrest, Domestic)%>%top_n(4)
head(chicago)
#%>%mutate(Type='Primary Type', Location='Location Description')
chicago%>%select(Date, `Primary Type`, Description, `Location Description`, Arrest, Domestic)%>%top_n(4)
chicago%>%select(Date, `Primary Type`, Description, `Location Description`, Arrest, Domestic)
chicago%>%select(Date, `Primary Type`, Description, `Location Description`, Arrest, Domestic)%>%top_n(4)
head(chicago)
#%>%mutate(Type='Primary Type', Location='Location Description')
chicago%>%select(Date, `Primary Type`, Description, `Location Description`, Arrest, Domestic)%>%top_n(4)
rowSums(chicago)
rowSums(x, chicago)
rowSums(chicago, 1)
rowSums(chicago)
rowSums(as.dataframe(chicago))
rowSums(chicago)
#library(tidyverse)
#library(dplyr)
#chicago <- readxl::read_excel("C:\\Users\\famnit\\Dropbox\\RIN3\\Chicago.xlsx")
chicagoHead<-head(chicago)
chicagoHead
ggplot(chicagoHead,aes(x=`Primary Type`,y=count(`Primary Type`), group=1))
library(ggplot2)
ggplot(chicagoHead,aes(x=`Primary Type`,y=count(`Primary Type`), group=1))
chicagoHead%>%group_by(`Primary Type`)
iris %>% select(Species) %>% group_by(Species) %>% summarise(number = n())#summarise=count
#library(ggplot2)
chicagoHead%>%group_by(`Primary Type`)
#library(ggplot2)
chicago%>%group_by(`Primary Type`)
#library(ggplot2)
chicago%>%group_by(3)
#library(ggplot2)
chicago%>%group_by(2)
#library(ggplot2)
chicago%>%group_by(4)
#library(ggplot2)
chicago%>%group_by(Date)
#library(ggplot2)
chicago%>%group_by(Date)
ggplot(chicagoHead,aes(x=`Primary Type`,y=count(`Primary Type`), group=1))
#library(ggplot2)
chicago%>%group_by(Date)
#library(ggplot2)
chicago%>%group_by(Arrest)
master %>% select(birthCountry) %>% group_by(birthCountry) %>% summarise(number =
n()) %>% arrange(number)
#library(ggplot2)
chicago%>%select(`Primary Type`)%>%group_by(`Primary Type`)
#library(ggplot2)
chicago%>%select(`Primary Type`, sum(Arrest))%>%group_by(`Primary Type`)
chicagoHead
#library(ggplot2)
chicago%>%select(`Primary Type`, sum(`Primary Type`))%>%group_by(`Primary Type`)
#library(ggplot2)
chicago%>%select(`Primary Type`, Arrest)%>%group_by(`Primary Type`)
##########
master %>% select(weight, birthCountry, birthYear) %>% group_by(birthCountry, birthYear) %>%
summarise(Average = round(mean(weight / 2.2, na.rm = TRUE))) %>%
arrange(desc(birthCountry)) %>% filter(substr(birthCountry, 1, 1) == "S" &
birthYear > 1900) %>% spread(birthCountry, Average)
##########
master %>% select(weight, birthCountry, birthYear) %>% group_by(birthCountry, birthYear) %>%
summarise(Average = round(mean(weight / 2.2, na.rm = TRUE))) %>%
arrange(desc(birthCountry)) %>% filter(substr(birthCountry, 1, 1) == "S" &
birthYear > 1900) %>% spread(birthCountry, Average)
master %>% select(weight, birthCountry) %>% group_by(birthCountry) %>% summarise(Average = round(mean(weight /
2.2, na.rm = TRUE))) %>% arrange(desc(Average))
#library(ggplot2)
chicago%>%select(`Primary Type`, Arrest)%>%group_by(`Primary Type`)%>%summarize(sum(Arrest))
chicagoHead
#library(ggplot2)
chicago%>%select(`Primary Type`, Arrest)%>%group_by(`Primary Type`)%>%summarize(sum(`Primary Type`))
#library(ggplot2)
chicago%>%select(`Primary Type`, Arrest)%>%group_by(`Primary Type`)%>%summarize(sum(`Primary Type`))
#library(ggplot2)
chicago%>%select(`Primary Type`, Arrest)%>%group_by(`Primary Type`)%>%summarize(sum(Arrest))
ggplot(chicagoHead,aes(x=`Primary Type`,y=chicago%>%select(`Primary Type`, Arrest)%>%group_by(`Primary Type`)%>%summarize(sum(Arrest)), group=1))
ggplot(chicagoHead,aes(x=`Primary Type`,y=chicago%>%select(`Primary Type`, Arrest)%>%group_by(`Primary Type`)%>%summarize(sum(Arrest))))
ggplot(chicagoHead,aes(x=`Primary Type`,y=Arrest))
ggplot(chicagoHead,aes(x=`Primary Type`,y=Arrest))+geom_bar()
ggplot(chicagoHead,aes(x=`Primary Type`,y=Arrest))+geom_bar()+xlab("Cyl") + ylab("Number of cars")
chicagoHead
ggplot(chicagoHead,aes(x=`Primary Type`,y=Beat))+geom_bar()+xlab("Cyl") + ylab("Number of cars")
ggplot(chicago,aes(x=`Primary Type`,y=Beat))+geom_bar()+xlab("Cyl") + ylab("Number of cars")
chicago%>%select(Date)
library(lubridate)
chicago%>%select(Date)
chicago%>%select(Date)%>%mutate(Date2=as.Date(Date, format="%m/%d/%Y"))
as.Date("08,30,1930", format="%m,%d,%Y")
chicago%>%select(Date)%>%mutate(Date2=as.Date(Date, format="%m/%d/%Y"))
chicago%>%select(Date)%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"))
chicago%>%select(Date)%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Date), mesec=month(Date))
chicago%>%select(Date)%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), mesec=month(Datum))
chicago%>%select(Date)%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), mesec=mon(Datum, abbr = FALSE)))
chicago%>%select(Date)%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), mesec=month(Datum, abbr = FALSE)))
chicago%>%select(Date)%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), mesec=month(Datum, abbr = FALSE))
chicago%>%select(Date)%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), mesec=month(Datum, abbr = TRUE))
chicago%>%select(Date)%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), mesec=months(Datum))
chicago%>%select(Date)%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), mesec=months(Datum))
chicago%>%select(Datum, Leto, Mesec)%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%top_n(10)
chicago%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%top_n(10)%>%select(Datum, Leto, Mesec)
chicago%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%top_n(10)%>%select(Datum, Leto, Mesec)
chicago%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%top_n(10)%>%select(Datum, Leto, Mesec)
chicago%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%select(Datum, Leto, Mesec)
chicago%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%select(Datum, Leto, Mesec)%>%top_n(10)
chicago%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%select(Datum, Leto, Mesec)%>%top_n(11)
chicago%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%select(Datum, Leto, Mesec)%>%top_n(10)
chicago%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%select(Datum, Leto, Mesec)%>%top_n(11)
chicago%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%select(Datum, Leto, Mesec)%>%top_n(10)
chicago%>%filter(`Primary Type`=Theft)
chicago%>%filter(`Primary Type`==Theft)
chicago%>%filter(`Primary Type`=THEFT)
chicago%>%filter(`Primary Type`==THEFT)
chicago
chicago%>%filter(`Primary Type`==THEFT)
chicago
chicago%>%filter(`Primary Type`=="THEFT"")
chicago%>%filter(`Primary Type`=="THEFT")
chicago%>%filter(`Primary Type`="THEFT")
chicago%>%filter(`Primary Type`=="THEFT")
chicago%>%filter(`Primary Type`=="THEFT")
chicago%>%filter(`Primary Type`==c("THEFT", "ROBBERY", "NARCOTICS"))
chicago%>%filter(`Primary Type`==c("THEFT", "ROBBERY", "NARCOTICS"))
chicago5<-chicago%>%filter(`Primary Type`==c("THEFT", "ROBBERY", "NARCOTICS"))
ggplot(chicago5)
ggplot(data=mtcars, aes(x=as.factor(cyl),
fill=factor(gear))) + geom_bar()+
xlab("Num. of cyl")+ylab("")+labs(fill="Num. of gears")
ggplot(mtcars, aes(x=as.factor(cyl))) + geom_bar()+ theme_classic() +
xlab("Cyl") + ylab("Number of cars") +
ggtitle("Number of cars per cylinders")
g<- ggplot(airquality, aes(x=Ozone, y=(Temp-32)*0.5556))+geom_point()+
geom_vline(xintercept=mean(airquality$Ozone, na.rm = TRUE), col="red")+
ylab("Temp")+
geom_hline(yintercept=mean(((airquality$Temp-32)*0.5556), na.rm = TRUE), col="blue")+
ggtitle("Ozone vs. Temp")+coord_flip()
g
chicago5<-chicago4%>%filter(`Primary Type`==c("THEFT", "ROBBERY", "NARCOTICS"))
chicago4<-chicago%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%select(Datum, Leto, Mesec)%>%top_n(10)
chicago5<-chicago4%>%filter(`Primary Type`==c("THEFT", "ROBBERY", "NARCOTICS"))
chicago%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))%>%select(Datum, Leto, Mesec)%>%top_n(10)
chicago5<-chicago%>%filter(`Primary Type`==c("THEFT", "ROBBERY", "NARCOTICS"))
chicago5
chicago5<-chicago%>%filter(`Primary Type`==c("THEFT", "ROBBERY", "NARCOTICS"))%>%mutate(Datum=as.Date(Date, format="%m/%d/%Y"), Leto=year(Datum), Mesec=months(Datum))
ggplot(chicago5, aes(x=`Primary Type`,y=Leto))+geom_bar()+facet_grid()
ggplot(chicago5, aes(x=`Primary Type`,y=Leto))+geom_bar()+facet_grid(Arrest)
ggplot(chicago5, aes(x=`Primary Type`,y=Leto))+geom_bar()+facet_grid(.~Arrest)
ggplot(chicago5, aes(x=count(`Primary Type`), y=Leto))+geom_bar()+facet_grid(.~Arrest)
ggplot(chicago5%>%group_by(`Primary Type`), aes(x=count(`Primary Type`), y=Leto))+geom_bar()+facet_grid(.~Arrest)
chicago5
ggplot(chicago5, aes(x=`Primary Type`,y=Leto))+geom_bar()+facet_grid(.~Arrest)
ggplot(chicago5, aes(x=Leto,y=Leto))+geom_bar()+facet_grid(.~Arrest)
ggplot(chicago5, aes(x=`Primary Type`,y=Arrest))+geom_bar()+facet_grid(.~Arrest)
chicago
chicago%>%select(Description)
chicago%>%select(Description)%>%count("SIMPLE")
chicago%>%select(Description)%>%count(".*\d.*")
chicago%>%select(Description)%>%count(".*\\d.*")
chicago%>%select(Description)%>%count("\\d")
chicago%>%select(Description)%>%count("")
chicago%>%select(Description)%>%count("a")
nrow(filter(chicago, Description=="a"))
nrow(filter(chicago, Description=="\\d"))
nrow(filter(chicago, Description=="^$"))
chicago
nrow(filter(chicago, Description=="SIMPLE"))
nrow(filter(chicago, Description==".*\\d.*"))
nrow(filter(chicago, Description=="SIM"))
nrow(filter(chicago, Description=="^SIM"))
nrow(filter(chicago, Description=="^S"))
apply(chicago)
nrow(filter(chicago, Description=="^S"))
nrow(filter(chicago, Description==".*\\d.*"))
chicago%>%filter(Description==".*\\d.*")
chicago%>%filter(Description=="\\a")
chicago%>%filter(Description=="^S")
library(stringr)
nrow(filter(chicago, Description==".*\\d.*"))
chicago%>%filter(Description=="^S")
chicago%>%filter(Description=="SIMPLE")
chicago%>%filter(str_detect(Description, "^S"))
chicago%>%filter(str_detect(Description, ".*\\d.*"))
chicago%>%filter(str_detect(Description, "^[a-zA-Z]"))
nrows(chicago%>%filter(str_detect(Description, "^[a-zA-Z]")))
sum(chicago%>%filter(str_detect(Description, "^[a-zA-Z]")))
count(chicago%>%filter(str_detect(Description, "^[a-zA-Z]")))
count(chicago%>%filter(str_detect(Description, ".*\\d.*")))
count(chicago%>%filter(str_detect(Description, "^[a-zA-Z]")))
count(chicago%>%filter(str_detect(Description, "^\$")))
count(chicago%>%filter(str_detect(Description, "^$")))
count(chicago%>%filter(str_detect(Description, "^\\$")))
count(chicago%>%filter(str_detect(Description, ".*\\..*")))
